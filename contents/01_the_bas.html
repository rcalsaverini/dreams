
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>The Business Analysts &#8212; Dreams of an Analytics Platform</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Dreams of an Analytics Platform" href="00_intro.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Dreams of an Analytics Platform</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="00_intro.html">
                    Dreams of an Analytics Platform
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   The Business Analysts
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/rcalsaverini/dreams"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/rcalsaverini/dreams/issues/new?title=Issue%20on%20page%20%2Fcontents/01_the_bas.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/contents/01_the_bas.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>The Business Analysts</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="the-business-analysts">
<h1>The Business Analysts<a class="headerlink" href="#the-business-analysts" title="Permalink to this headline">#</a></h1>
<p>Last night I had a crazy dream. I dreamed about the future, and this document describes what I saw. It wasn’t a mystical experience, it was just an Analytics Platform. But it was so easy to use, it made so much sense and it was so useful that I felt it was my obligation to describe it so that we can be inspired by it. I’ll describe how I saw people using it in my dream, and what they told me about how it worked.</p>
<p>My dream started at an office, with a lot of people working. I was there to start a new job. The first people I met were a group of Business Analysts. One of them approached me and said:</p>
<blockquote>
<div><p>– <em>Hey… are you our new hire? I’m doing some work that might interest you…</em></p>
</div></blockquote>
<p>They explained to me that they worked in the a team that did analytics for the company’s blog platform product. All the time they needed to analyse how well their UX experiments went, and what the impact of the new designs and features had on their customers’ experience and the company’s profits.</p>
<p>I sat beside them at a desk. They opened a browser, typed <a class="reference external" href="http://analytics.company.com">analytics.company.com</a> and a website loaded, with a slick interface. They clicked somewhere and a kind of development interface opened. Inside it there was some code.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">entity</span><span class="w"> </span><span class="nx">Customer</span><span class="w"></span>
<span class="w">    </span><span class="nx">attributes</span><span class="o">:</span><span class="w"></span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">;</span><span class="w"></span>

<span class="nx">entity</span><span class="w"> </span><span class="nx">Widget</span><span class="w"></span>
<span class="w">    </span><span class="nx">attributes</span><span class="o">:</span><span class="w"></span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="nx">Text</span><span class="p">;</span><span class="w"></span>

<span class="nx">event</span><span class="w"> </span><span class="nx">Click</span><span class="w"> </span>
<span class="w">  </span><span class="nx">entities</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="nx">clicker</span><span class="o">:</span><span class="w"> </span><span class="nx">Customer</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nx">clicked</span><span class="o">:</span><span class="w"> </span><span class="nx">Widget</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<blockquote>
<div><p>– <em>Take a look</em> – they said – <em>this is our analytics platform. This is where we spend most of our time. I’m going to teach you the basics.</em></p>
<p>– <em>This codes defines the primitive contracts I’m going to use in my analysis: customers, widgets and clicks. Let’s focus on the customers and widgets for now. Have you noticed what they have in common?</em></p>
<p>– <em>They’re both defined with this “entity” keyword.</em> – I said. – <em>And they have attributes.</em></p>
<p>– <em>Yes, that’s right! Entities are one of the basic types of contracts we can use in our analytics platform. They are the things we want to analyse and make decisions about. Entities are <strong>static and immutable</strong>. They are created once and that’s it.</em></p>
<p>– <em>This entity represents our Customers and what immutable attributes are associated with them. Let me show you…</em></p>
</div></blockquote>
<p>They clicked on another button and a text field appeared where they wrote a SQL query and some sample data appeared below it.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-number">Listing 1 </span><span class="caption-text">Input here your query…</span><a class="headerlink" href="#id1" title="Permalink to this code">#</a></div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">Customer</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">customer_id</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">created_at</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2018-07-22 13:56:23.128</p></td>
<td><p>“Florence Price”</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>2017-02-13 08:22:43.231</p></td>
<td><p>“Scott Joplin”</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2019-08-05 12:07:06.562</p></td>
<td><p>“George Bridgetower”</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>2021-02-03 03:12:42.245</p></td>
<td><p>“Samuel Coleridge-Taylor”</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>2020-09-19 22:42:05.523</p></td>
<td><p>“Joseph Bologne”</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>– All entities have, by default, a unique identifier (customer_id in this case), and a creation date. It could have additional fields, but they have to be stuff that would never change about the entity. For example here are some widgets from our app…</p>
</div></blockquote>
<p>There are two types of data here: <strong>entities</strong> and <strong>events</strong>. Entities represent static <strong>immutable</strong> information about something. For example, this entity called <code class="docutils literal notranslate"><span class="pre">Customer</span></code> represents a customer’s basic immutable information. Check this out…*</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-number">Listing 2 </span><span class="caption-text">Input here your query…</span><a class="headerlink" href="#id2" title="Permalink to this code">#</a></div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">widget_id</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">created_at</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>2021-06-22 13:56:23.128</p></td>
<td><p>“NEW_POST”</p></td>
<td><p>“Button to create new post”</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>2021-06-22 13:56:23.128</p></td>
<td><p>“ADD_AUTHOR”</p></td>
<td><p>“Button that adds a new author”</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2019-08-05 12:07:06.562</p></td>
<td><p>“LIST_POSTS”</p></td>
<td><p>“Button that lists all posts”</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>– Events on the other hand represent things that happened to entities. They are immutable as well, if an event happened, it happened. It can’t unhappen. They also have and unique identifier and a creation date, but more importantly, the have relationships!</p>
<p>– What are relationships?</p>
<p>– They are stuff that are the entities affected by the event! For example, this event is a click. Every time a user clicks in a widget of the app, a new event is created here. Check this…</p>
</div></blockquote>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-number">Listing 3 </span><span class="caption-text">Input here your query…</span><a class="headerlink" href="#id3" title="Permalink to this code">#</a></div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="n">Customer</span><span class="p">.</span><span class="n">customer_id</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Widget</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="n">Click</span><span class="p">.</span><span class="n">created_at</span><span class="w"></span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Click</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span><span class="w"> </span><span class="n">Widget</span><span class="p">)</span><span class="w"></span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">Widget</span><span class="p">.</span><span class="n">widget_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="k">LIMIT</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">Customer.customer_id</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">Widget.name</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">Click.created_at</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>262</p></td>
<td><p>“NEW_POST”</p></td>
<td><p>2022-06-01 15:31:32</p></td>
</tr>
<tr class="row-odd"><td><p>123</p></td>
<td><p>“NEW_POST”</p></td>
<td><p>2022-06-01 15:31:53</p></td>
</tr>
<tr class="row-even"><td><p>3465</p></td>
<td><p>“NEW_POST”</p></td>
<td><p>2022-06-01 15:32:23</p></td>
</tr>
<tr class="row-odd"><td><p>235</p></td>
<td><p>“NEW_POST”</p></td>
<td><p>2022-06-01 15:33:01</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>– What’s that TotalClicks thing?</p>
<p>– That’s a state, that’s a transformation or aggregation indexed by entities. You have to declare what are the entities that index it and how to calculate it. Here, let me show it to you.</p>
</div></blockquote>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">state</span><span class="w"> </span><span class="nx">TotalClicks</span><span class="w"></span>
<span class="w">  </span><span class="nx">entities</span><span class="o">:</span><span class="w"> </span>
<span class="w">    </span><span class="nx">Customer</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="nx">Widget</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">fields</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="nx">totalClicks</span><span class="o">:</span><span class="w"> </span><span class="nx">Int</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">batch</span><span class="w"> </span><span class="p">(</span><span class="nx">clicks</span><span class="o">:</span><span class="w"> </span><span class="nx">List</span><span class="p">[</span><span class="nx">Click</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">totalClicks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">count</span><span class="p">(</span><span class="nx">clicks</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span>
<span class="w">  </span><span class="nx">update</span><span class="w"> </span><span class="p">(</span><span class="nx">click</span><span class="o">:</span><span class="w"> </span><span class="nx">Click</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">totalClicks</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./contents"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="00_intro.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Dreams of an Analytics Platform</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Dreamer<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>